{"remainingRequest":"D:\\git\\warships-evasive\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\warships-evasive\\src\\components\\FieldGridOpponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\warships-evasive\\src\\components\\FieldGridOpponent.vue","mtime":1556557786831},{"path":"D:\\git\\warships-evasive\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\warships-evasive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\warships-evasive\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters, mapMutations } from 'vuex'\n\nexport default {\n  name: 'FieldGridOpponent',\n  props: {\n    player: String,\n  },\n\n  computed: {\n    ...mapGetters([\n      'isShotsLeft',\n      'getFieldByParams',\n      'opponentFieldCheck',\n      'getDamagedShip',\n      'isShipDead',\n      'checkWinCondition',\n    ]),\n  },\n\n  methods: {\n    ...mapMutations([\n      'sendAlertMessage',\n      'placeMine',\n      'markShipDamaged',\n      'markShipDead',\n      'placeDeadTiles',\n      'reduceShotsAvailable',\n      'setLastShot',\n    ]),\n\n    fireCannon (row, col) {\n      let alertResult = 'Мимо.'\n      // 0. Check if any shots left for this turn\n      if (!this.isShotsLeft) {\n        alertResult = 'Пиратский бюджет позволяет тратить лишь одну бомбу в ход, капитан.'\n        this.sendAlertMessage(alertResult)\n        return\n      }\n      // 0. Place a mine mark\n      if ( this.opponentFieldCheck(row, col, 'mine') || this.opponentFieldCheck(row, col, 'dead') ) {\n        alertResult = 'Сюда мы уже стреляли, капитан.'\n      } else {\n        this.placeMine({row: row, col: col})\n        this.reduceShotsAvailable()\n        this.setLastShot({row: row + 1, col: col + 1})\n      }\n      // 1. Is this a hit?\n      if ( this.opponentFieldCheck(row, col, 'ship') ) {\n        // 2. Mark ship as isDamaged\n        this.markShipDamaged({row: row, col: col})\n        alertResult = 'Вражеский корабль поражен!'\n        // 3. Is this ship completely dead?\n        let damagedShip = this.getDamagedShip(row, col)\n        if ( this.isShipDead(damagedShip) ) {\n          this.markShipDead(damagedShip)\n          this.placeDeadTiles(damagedShip)\n          alertResult = 'Вражеский корабль потоплен! Насилуйте сундуки и вскрывайте девок!'\n          if ( this.checkWinCondition ) {\n            alertResult = 'Все враги повержены. Ты - самый крутой пират этих морей, капитан!'\n          }\n        }\n      }\n      // 4. Display alert\n      this.sendAlertMessage(alertResult)\n    },\n\n  }\n\n}\n",null]}